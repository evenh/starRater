(function(e){e.fn.starRater=function(t){var n=e.extend({starCount:5,firstEmpty:false},t);var r=e(this);var i=0;for(var s=0;s<n.starCount;s++){if(s===0&&!n.firstEmpty){r.append('<i class="starRater-'+s+' glyphicon glyphicon-star"></i>')}else{r.append('<i class="starRater-'+s+' glyphicon glyphicon-star-empty"></i>')}}var o=r.children("i[class|='starRater']");var u=function(t){var n=0;t.each(function(r){if(e(t.get(r)).hasClass("glyphicon-star")){n++}});t.parent().data("count",n).trigger("countUpdated")};u(o);o.mouseenter(function(){if(i!==0){return}var t=e(this);t.removeClass("glyphicon-star-empty").addClass("glyphicon-star");u(o);var n=false;o.each(function(r){if(e(o.get(r))[0].className==t[0].className){u(o);n=true}if(!n){e(o.get(r)).removeClass("glyphicon-star-empty").addClass("glyphicon-star");u(o)}else{e(o.get(r+1)).removeClass("glyphicon-star").addClass("glyphicon-star-empty");u(o)}})});o.click(function(){if(i!=e(this)){i=0;e(this).mouseenter()}i=e(this)});return this}})(jQuery)
